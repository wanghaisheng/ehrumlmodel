<!--  IHE PCC Labor and Delivery Summary: 1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2 -->

<!-- errors -->

  <pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2-errors">
    <title>IHE PCC Labor and Delivery Summary - errors validation phase</title>

    <rule context='/'>
    <assert test='//cda:templateId[@root="1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2"]'>
       Error: The IHE PCC Labor and Delivery Summary requires the IHE PCC Labor and Delivery Summary template ID
       (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2).
    </assert>
    </rule>

    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2"]'>
    <assert test='../cda:ClinicalDocument'> 
       Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary can only be 
       used on Clinical Documents. 
    </assert>
    <assert test='cda:templateId[@root="1.3.6.1.4.1.19376.1.5.3.1.1.2"]'>
       Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the parent template ID for
       Medical Summaries is not present.
    </assert>
    <assert test='cda:code[@code = "15508-5"]'> 
       Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the document type code of a Maternal 
       Discharge Summary must be 15508-5. 
    </assert> 
    <assert test='cda:code[@codeSystem = "2.16.840.1.113883.6.1"]'> 
       Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the document type code must come from 
       the LOINC code system (2.16.840.1.113883.6.1). 
    </assert> 

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.3"]'> 
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary 
     Document must contain a(n) Hospital Admission Diagnosis.
   </assert> 


   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.13.2.1"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Chief Complaint Section.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.10.3.2"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Transport Mode Section.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.28"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Coded Results Section.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.4"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) History of Present Illness Section.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.8"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) History of Past Illness Section.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.16.2.1.1.1"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Coded History of Infection Section.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.13"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Allergies and Other Adverse Reactions Section.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.9.15.1"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Coded Physical Exam Section.
   </assert>
   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.5.3.4"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Pregnancy History Section.
   </assert>
   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.11.2.2.1"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Estimated Delivery Dates Section.
   </assert>
   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.16.1"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Coded Social History Section.
   </assert>
   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.21"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Medications Administered Section.
   </assert>
   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.21.2.2"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Prenatal Events Section.
   </assert>
   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.11"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) List of Surgeries Section.
   </assert>
   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.21.2.3"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Labor and Delivery Section.
   </assert>
   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.21.2.4"]'>
     Error: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Newborn Delivery Information Section.
   </assert>


</rule>

  </pattern>

  <!-- warning -->

  <pattern id="p-1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2-warnings">
    <title>IHE PCC Labor and Delivery Summary - warning validation phase</title>

    <rule context='*[cda:templateId/@root="1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2"]'>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.20"]'>
     Warning: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Admission Medication History  Section if that information is known.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.13.2.5"]'>
     Warning: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Assessment and Plan Section if that information is known.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.3.35"]'>
     Warning: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Coded Advance Directives Section if that information is known.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.21.2.1"]'>
     Warning: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Birth Plan Section if that information is known.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.13.2.6"]'>
     Warning: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Intravenous Fluids Administered Section if that information is known.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.9.2"]'>
     Warning: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Estimated Blood Loss Section if that information is known.
   </assert>

   <assert test='.//cda:templateId[@root = "1.3.6.1.4.1.19376.1.5.3.1.1.21.2.5.1"]'>
     Warning: In IHE PCC Labor and Delivery Summary (1.3.6.1.4.1.19376.1.5.3.1.1.21.1.2), the Labor and Delivery Summary
     Document must contain a(n) Coded Antenatal Testing and Surveillance Section if that information is known.
   </assert>

    </rule>

  </pattern>
